{% extends "base.html" %}


{% block content %}


<div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10">

<!-- LEFT -->
<div class="w-full">

    <!-- MAIN IMAGE -->
    <img id="mainImage"
         src="{{ product.main_image.url }}"
         class="w-full
                h-64 sm:h-72 md:h-96
                object-cover border rounded-lg">

    <!-- THUMBNAILS -->
    <div class="flex gap-2 mt-3 flex-wrap">

        <!-- Main image thumb -->
        <img src="{{ product.main_image.url }}"
             class="w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16
                    object-cover border rounded cursor-pointer
                    hover:border-green-600"
             onmouseover="changeImage('{{ product.main_image.url }}')"
             onclick="changeImage('{{ product.main_image.url }}')">

        <!-- Variant images -->
        {% for img in product.images.all %}
        <img src="{{ img.image.url }}"
             class="w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16
                    object-cover border rounded cursor-pointer
                    hover:border-green-600"
             onmouseover="changeImage('{{ img.image.url }}')"
             onclick="changeImage('{{ img.image.url }}')">
        {% endfor %}

    </div>
</div>

<!-- RIGHT -->
<div class="w-full">

    <h1 class="text-xl sm:text-2xl font-bold">
        {{ product.name }}
    </h1>

        <p class="text-lg sm:text-xl mt-4 font-semibold">
        â‚¹{{ product.price }}
    </p>

    {% if request.user.is_authenticated %}
    <a href="{% url 'add_to_cart' product.id %}"
       class="bg-green-700 text-white
              px-4 py-2 mt-4 inline-block
              rounded text-sm sm:text-base">
        Add to Cart
    </a>
    {% else %}
    <a href="{% url 'login' %}"
       class="bg-blue-600 text-white
              px-4 py-2 mt-4 inline-block
              rounded text-sm sm:text-base">
        Login to Add
    </a>
    {% endif %}

    <p class="mt-2 text-sm sm:text-base text-gray-600">
        {{ product.description }}
    </p>



</div>
</div>

<script>
function changeImage(src) {
    document.getElementById("mainImage").src = src;
}
</script>
{% endblock %}