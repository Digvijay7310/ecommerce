{% extends "base.html" %}
{% block content %}
<h2 class="text-2xl font-bold mb-4 text-center">Your Cart</h2>

{% if items %}
<table class="w-full border-collapse border">
  <thead>
    <tr class="bg-gray-100 border-b">
        <th class="p-2">Image</th>
      <th class="p-2 text-left">Product</th>
      <th class="p-2">Quantity</th>
      <th class="p-2">Price</th>
      <th class="p-2">Action</th>
    </tr>
  </thead>
  <tbody>
    {% for item in items %}
    <tr class="border-b">
      <td class="p-2">
        <img src="{{ item.product.main_image.url}}" alt="{{item.product.name}}" class="h-10 w-10 md:h-20 md:w-20">
      </td>
      <td class="p-2"><p class="line-clamp-2 text-xs md:text-sm">
        {{ item.product.name }}
      </p></td>
      <td class="p-2 flex items-center gap-1">
        <a href="{% url 'cart:decrease_quantity' item.id %}" class="px-2 bg-gray-200 rounded">-</a>
        <span class="px-2">{{ item.quantity }}</span>
        <a href="{% url 'cart:increase_quantity' item.id %}" class="px-2 bg-gray-200 rounded">+</a>
      </td>
      <td class="p-2">₹{{ item.total_price }}</td>
      <td class="p-2">
        <a href="{% url 'cart:remove_item' item.id %}" class="text-red-500 hover:underline">Remove</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>


<h3 class="text-right mt-4 text-xl font-bold">Total: ₹{{ total }}</h3>

<div class="max-w-md">
  <a href="{% url 'cart:checkout' %}" class="bg-amber-600 px-3 py-1 text-white text-center">Checkout</a>
</div>

{% else %}
<p class="text-center mt-6">Your cart is empty.</p>
{% endif %}


{% endblock %}
